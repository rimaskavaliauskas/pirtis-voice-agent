# ğŸ¯ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°: AI Checklist Agent (Pirties projektavimo interviu)

## ĞĞ±Ğ·Ğ¾Ñ€ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

**Ğ¦ĞµĞ»ÑŒ:** Ğ³Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ğ¾Ğ¹ AIâ€‘Ğ°Ğ³ĞµĞ½Ñ‚, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚ ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¾Ğµ **Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²ÑŒÑ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° Ğ¾ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ½Ğ¾ÑÑ‚ÑÑ… Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¿irties (sauna/steam bath)** Ğ¸ Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ **ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Markdownâ€‘Ğ¾Ñ‚Ñ‡ĞµÑ‚** Ğ´Ğ»Ñ Ğ´Ğ°Ğ»ÑŒĞ½ĞµĞ¹ÑˆĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¸ ĞºĞ¾Ğ¼Ğ¼ĞµÑ€Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ.

**ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸:**
- **3 Ñ€Ğ°ÑƒĞ½Ğ´Ğ° Ã— 3 Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ°** (Ğ¼Ğ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ 9 Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²), ĞºĞ°Ğº Ğ² Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ğ¸
- Ğ“Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ğ¾Ğ¹ Ğ²Ğ²Ğ¾Ğ´ â†’ Ñ‚Ñ€Ğ°Ğ½ÑĞºÑ€Ğ¸Ğ¿Ñ†Ğ¸Ñ â†’ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ñ‚ĞµĞºÑÑ‚Ğ° â†’ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· â†’ ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ Ñ€Ğ°ÑƒĞ½Ğ´
- **ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹**: Ñ€Ğ°ÑƒĞ½Ğ´Ñ‹ 2â€“3 Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒÑÑ‚ÑÑ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ² Ñ€Ğ°ÑƒĞ½Ğ´Ğ° 1 (slotâ€‘filling + gaps/risks)
- **Ğ”Ğ¾Ğ»Ğ³Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ°Ñ Ğ¿Ğ°Ğ¼ÑÑ‚ÑŒ**: ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ ÑĞµÑÑĞ¸Ğ¹ Ğ¸ Ğ¸Ñ‚Ğ¾Ğ³Ğ¾Ğ² Ğ² **PostgreSQL**
- **Ğ‘Ñ‹ÑÑ‚Ñ€Ğ°Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‡Ğ°Ñ Ğ¿Ğ°Ğ¼ÑÑ‚ÑŒ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)**: **Redis** Ğ´Ğ»Ñ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¹ ÑĞµÑÑĞ¸Ğ¸ + TTL
- Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²: **MD + (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾) JSON** (Ğ´Ğ»Ñ Ğ±ÑƒĞ´ÑƒÑ‰ĞµĞ³Ğ¾ RAG/CRM)

---

## ğŸ§­ ĞŸÑ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²Ğ°Ñ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° (Ñ‡Ñ‚Ğ¾ Â«ÑƒĞ¼Ğ½Ğ¾Ğ³Ğ¾Â» Ğ´ĞµĞ»Ğ°ĞµÑ‚ Ğ°Ğ³ĞµĞ½Ñ‚)

ĞĞ³ĞµĞ½Ñ‚ Ğ½Ğµ Â«Ñ‡Ğ¸Ñ‚Ğ°ĞµÑ‚ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²Â». ĞĞ½ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ ĞºĞ°Ğº **Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²ÑŒÑĞµÑ€â€‘ÑĞ±Ğ¾Ñ€Ñ‰Ğ¸Ğº Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹**:

1) **Ğ˜Ğ·Ğ²Ğ»ĞµĞºĞ°ĞµÑ‚ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ¸Ğ· Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²** (slotâ€‘filling)
2) Ğ’Ñ‹ÑĞ²Ğ»ÑĞµÑ‚ **Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ñ‹ (gaps)** Ğ¸ **Ñ€Ğ¸ÑĞºĞ¸/ĞºĞ¾Ğ½Ñ„Ğ»Ğ¸ĞºÑ‚Ñ‹ (risk_flags)**
3) Ğ’Ñ‹Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ 3 ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ñ… Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ° Ğ¿Ğ¾ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ñƒ:
   - Q1: Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ°Ñ Ñ†ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ (Ğ·Ğ°ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ ÑĞ»Ğ¾Ñ‚Ğ¾Ğ²)
   - Q2: ÑĞ½Ğ¸Ğ¼Ğ°ĞµÑ‚ Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ñ€Ğ¸ÑĞº/ĞºĞ¾Ğ½Ñ„Ğ»Ğ¸ĞºÑ‚
   - Q3: Â«Ğ·Ğ°ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ñ€ĞµÑˆĞµĞ½Ğ¸ĞµÂ» (ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ²Ñ‹Ğ±Ğ¾Ñ€: Ñ‚Ğ¸Ğ¿ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ / ĞºÑ€Ğ¾ÑĞ½Ğ¸Ñ / Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° / Ñ€Ğ°Ğ·Ğ¼ĞµÑ€)

---

## ğŸ—ï¸ Ğ’Ñ‹ÑĞ¾ĞºĞ¾ÑƒÑ€Ğ¾Ğ²Ğ½ĞµĞ²Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° (Frontend Ğ½Ğ° Vercel, Backend Ğ½Ğ° Hetzner VPS)

> ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ Ğº Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ñ: Ğ² Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ğµ Backend Ğ¾Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°Ğ»ÑÑ ĞºĞ°Ğº Hugging Face Spaces.  
> Ğ’ ÑÑ‚Ğ¾Ğ¹ Ğ²ĞµÑ€ÑĞ¸Ğ¸ **Backend Ğ¿ĞµÑ€ĞµĞ½Ğ¾ÑĞ¸Ñ‚ÑÑ Ğ½Ğ° Hetzner VPS** (Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° Â«Ğ² Ğ±ÑƒĞ´ÑƒÑ‰ĞµĞµÂ»), Ğ¿Ñ€Ğ¸ ÑÑ‚Ğ¾Ğ¼ **Frontend Ğ¾ÑÑ‚Ğ°ĞµÑ‚ÑÑ Ğ½Ğ° Vercel** (ĞºĞ°Ğº Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ).

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              FRONTEND                                    â”‚
â”‚                         Vercel (Next.js 15)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Landing    â”‚  â”‚   Question   â”‚  â”‚    Audio     â”‚  â”‚   Results   â”‚ â”‚
â”‚  â”‚    Page      â”‚  â”‚   Display    â”‚  â”‚   Recorder   â”‚  â”‚   & Export  â”‚ â”‚
â”‚  â”‚              â”‚  â”‚  (Shadcn)    â”‚  â”‚  (Shadcn)    â”‚  â”‚  (.md/.json)â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                         â”‚
â”‚  Tech: Next.js 15 + React 19 + TypeScript + Tailwind + Shadcn UI        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ REST API (HTTPS)
                                 â”‚ â€¢ POST /api/session/start
                                 â”‚ â€¢ POST /api/session/transcribe
                                 â”‚ â€¢ POST /api/session/{id}/submit
                                 â”‚ â€¢ GET  /api/session/{id}/results
                                 â”‚ â€¢ GET  /api/session/{id}/download
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              BACKEND                                     â”‚
â”‚                 Hetzner Cloud VPS (Ubuntu)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      FastAPI Application                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚   Router    â”‚  â”‚   Session     â”‚  â”‚   Report Generator     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Endpoints   â”‚  â”‚   Manager     â”‚  â”‚ (MD + optional JSON)   â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚                                       â”‚
â”‚                                 â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Agent Orchestrator                            â”‚   â”‚
â”‚  â”‚               LangGraph (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾) / Loop                     â”‚   â”‚
â”‚  â”‚                                                                  â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚   â”‚  START   â”‚â”€â”€â”€â–¶â”‚ ROUND 1  â”‚â”€â”€â”€â–¶â”‚ ROUND 2  â”‚â”€â”€â”€â–¶â”‚ ROUND 3  â”‚  â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                        â”‚               â”‚               â”‚        â”‚   â”‚
â”‚  â”‚                        â–¼               â–¼               â–¼        â”‚   â”‚
â”‚  â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚                   â”‚ ANALYZE + UPDATE STATE + NEXT QUESTIONS â”‚    â”‚   â”‚
â”‚  â”‚                   â”‚ (LLM + Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° slot/gaps/risk)          â”‚    â”‚   â”‚
â”‚  â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚                                       â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚      â–¼                          â–¼                           â–¼         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  STT Service   â”‚     â”‚ PostgreSQL       â”‚         â”‚ Redis (opt)    â”‚ â”‚
â”‚  â”‚ WhisperFlow/   â”‚     â”‚ Ğ´Ğ¾Ğ»Ğ³Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ°Ñ   â”‚         â”‚ session state  â”‚ â”‚
â”‚  â”‚ faster-whisper â”‚     â”‚ Ğ¿Ğ°Ğ¼ÑÑ‚ÑŒ/Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ   â”‚         â”‚ TTL + locks    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                 (optional) pgAdmin for DB admin                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ API Call (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         EXTERNAL / LLM                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     LLM Provider (configurable)                                  â”‚   â”‚
â”‚  â”‚     â€¢ Claude / OpenAI / local model                               â”‚   â”‚
â”‚  â”‚     â€¢ Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² + Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ² + Ñ„Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ñ‚Ñ‡ĞµÑ‚       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° (Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾ Ğ¿Ğ¾Ğ´ VPS + DB)

### Frontend (Vercel)

```
frontend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx                    # Landing page
â”‚   â”œâ”€â”€ session/
â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚       â””â”€â”€ page.tsx            # Interview page (3Ã—3 questions)
â”‚   â””â”€â”€ results/
â”‚       â””â”€â”€ [id]/
â”‚           â””â”€â”€ page.tsx            # Results & download
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                         # Shadcn UI components
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”œâ”€â”€ progress.tsx
â”‚   â”‚   â”œâ”€â”€ dialog.tsx
â”‚   â”‚   â”œâ”€â”€ textarea.tsx
â”‚   â”‚   â”œâ”€â”€ toast.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ audio-recorder.tsx
â”‚   â”œâ”€â”€ transcript-preview.tsx      # Preview + edit/confirm transcript
â”‚   â”œâ”€â”€ question-card.tsx
â”‚   â”œâ”€â”€ round-indicator.tsx
â”‚   â””â”€â”€ report-preview.tsx          # MD preview
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ api.ts
â”‚   â”œâ”€â”€ audio-utils.ts
â”‚   â””â”€â”€ types.ts
â””â”€â”€ package.json
```

### Backend (Hetzner VPS)

```
backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py                     # FastAPI entry point
â”‚   â”œâ”€â”€ config.py                   # ENV config
â”‚   â”œâ”€â”€ routers/
â”‚   â”‚   â”œâ”€â”€ session.py              # Session endpoints
â”‚   â”‚   â””â”€â”€ health.py
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ transcription.py        # WhisperFlow/faster-whisper wrapper
â”‚   â”‚   â”œâ”€â”€ llm.py                  # LLM provider adapter (Anthropic/OpenAI/local)
â”‚   â”‚   â”œâ”€â”€ state_manager.py        # Load/save state (Postgres/Redis)
â”‚   â”‚   â””â”€â”€ report_generator.py     # MD + JSON
â”‚   â”œâ”€â”€ agent/
â”‚   â”‚   â”œâ”€â”€ state.py                # State schema (slots/gaps/risks)
â”‚   â”‚   â”œâ”€â”€ selectors.py            # pick_next_questions() logic
â”‚   â”‚   â”œâ”€â”€ prompts.py              # system + round prompts
â”‚   â”‚   â””â”€â”€ graph.py                # LangGraph (optional)
â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â”œâ”€â”€ models.py               # SQLAlchemy models
â”‚   â”‚   â”œâ”€â”€ session.py              # DB session
â”‚   â”‚   â””â”€â”€ migrations/             # Alembic migrations
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ audio.py
â”œâ”€â”€ deploy/
â”‚   â”œâ”€â”€ docker-compose.yml          # Optional: postgres+redis+pgadmin+backend
â”‚   â””â”€â”€ systemd/                    # Optional: backend service (no Docker)
â””â”€â”€ requirements.txt
```

---

## ğŸ§  Agent State (Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾ Ğ¿Ğ¾Ğ´ Â«ÑƒĞ¼Ğ½Ğ¾ĞµÂ» Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²ÑŒÑ Ğ¾ Ğ¿irties)

### State Definition (Python / Pydantic)

```python
from typing import TypedDict, List, Optional, Dict, Any
from pydantic import BaseModel

class QA(BaseModel):
    question_id: str
    question_text: str
    transcript: str
    round_number: int

class AgentState(TypedDict):
    session_id: str
    current_round: int  # 1..3
    max_rounds: int     # 3

    # Questions & answers
    current_questions: List[Dict[str, str]]  # [{id,text} x3]
    history: List[QA]

    # Slot-filling (pirties Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ)
    slots: Dict[str, Any]          # structured values (JSON)
    unknown_slots: List[str]       # prioritized
    risk_flags: List[str]          # conflicts/risks
    round_summaries: List[str]

    # Output
    report_markdown: Optional[str]
    report_json: Optional[Dict[str, Any]]

    is_complete: bool
```

### ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ½Ğ°Ğ±Ğ¾Ñ€ ÑĞ»Ğ¾Ñ‚Ğ¾Ğ² (MVP)
- purpose (ÑĞµĞ¼ĞµĞ¹Ğ½Ğ°Ñ/ĞºĞ¾Ğ¼Ğ¼ĞµÑ€Ñ‡ĞµÑĞºĞ°Ñ/Ğ¿Ñ€Ğ¾Ñ†ĞµĞ´ÑƒÑ€Ñ‹/Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ)
- users (ÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ»ÑĞ´ĞµĞ¹, Ğ´ĞµÑ‚Ğ¸/Ğ¿Ğ¾Ğ¶Ğ¸Ğ»Ñ‹Ğµ/Ğ¾ÑĞ¾Ğ±Ñ‹Ğµ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ½Ğ¾ÑÑ‚Ğ¸)
- ritual (Ğ²Ğ°Ğ½Ğ¸ĞºĞ¸/Ğ»ĞµĞ¶Ğ°Ñ‚ÑŒ/Ğ¼Ğ°ÑÑĞ°Ğ¶/SPA)
- location (Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾/Ğ² Ğ´Ğ¾Ğ¼Ğµ/Ğ² ĞºĞ²Ğ°Ñ€Ñ‚Ğ¸Ñ€Ğµ/Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ°Ñ)
- infrastructure (Ğ²Ğ¾Ğ´Ğ°/ĞºĞ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ/Ğ·Ğ¸Ğ¼Ğ°/Ğ³Ğ¾Ñ€ÑÑ‡Ğ°Ñ Ğ²Ğ¾Ğ´Ğ°)
- stove_preference (Ğ¿ĞµÑ€Ğ¸Ğ¾Ğ´Ğ¸Ñ‡ĞµÑĞºĞ°Ñ vs Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ğ°Ñ)
- microclimate (Ğ¼ÑĞ³ĞºĞ¸Ğ¹ Ğ¿Ğ°Ñ€/Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñ‹)
- size_direction (1â€“2 / ÑĞµĞ¼ÑŒÑ / ÑĞµĞ¼ÑŒÑ+Ğ´Ñ€ÑƒĞ·ÑŒÑ)
- rooms (Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼/Ñ€Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ğ°Ñ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°)
- budget, timeline, constraints

---

## ğŸ”„ Agent Flow (3Ã—3 + Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ°Ñ†Ğ¸Ñ)

**Ğ Ğ°ÑƒĞ½Ğ´ 1:** ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ + Ğ»ÑĞ´Ğ¸ + Ñ€Ğ¸Ñ‚ÑƒĞ°Ğ» (Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµĞ¼ Ğ¾ÑĞ½Ğ¾Ğ²Ñƒ)  
**Ğ Ğ°ÑƒĞ½Ğ´ 2:** Ğ¼ĞµÑÑ‚Ğ¾ + Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° + ĞºĞ»ÑÑ‡ĞµĞ²Ğ¾Ğ¹ Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ²Ñ‹Ğ±Ğ¾Ñ€ (ĞºÑ€Ğ¾Ñnis/Ñ‚Ğ¸Ğ¿)  
**Ğ Ğ°ÑƒĞ½Ğ´ 3:** ÑƒÑ‚Ğ¾Ñ‡Ğ½ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ´ Ñ€Ğ¸ÑĞºĞ¸ + Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ñ‹/Ğ±ÑĞ´Ğ¶ĞµÑ‚/ÑÑ€Ğ¾ĞºĞ¸ + Ñ„Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ñ‚Ñ‡ĞµÑ‚

Ğ’ ĞºĞ¾Ğ½Ñ†Ğµ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ñ€Ğ°ÑƒĞ½Ğ´Ğ° Ğ°Ğ³ĞµĞ½Ñ‚ Ğ¾Ğ±ÑĞ·Ğ°Ğ½:
- Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ `slots`
- ÑÑ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ `unknown_slots` + `risk_flags`
- ÑĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ `round_summary`
- Ğ²Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ `next_questions` Ğ¿Ğ¾ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ñƒ gaps/risk/value

---

## ğŸ”Œ API Endpoints (Ğ±ĞµĞ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ Ğ¿Ğ¾ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚Ñƒ, ÑƒÑ‚Ğ¾Ñ‡Ğ½ĞµĞ½Ğ° Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸)

```yaml
POST /api/session/start
  Description: Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ğ½Ğ¾Ğ²ÑƒÑ ÑĞµÑÑĞ¸Ñ, Ğ¿Ğ¸ÑˆĞµÑ‚ session record Ğ² Postgres, Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ 3 Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ° (Round 1)
  Response:
    session_id: string
    round: 1
    questions: [{id,text}, {id,text}, {id,text}]

POST /api/session/transcribe
  Description: Ğ¢Ñ€Ğ°Ğ½ÑĞºÑ€Ğ¸Ğ±Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¾Ğ´Ğ½Ğ¾ Ğ°ÑƒĞ´Ğ¸Ğ¾ (preview)
  Request: multipart/form-data (audio_file)
  Response: { transcript: string }

POST /api/session/{session_id}/submit
  Description: ĞŸÑ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ 3 Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ½Ñ‹Ñ… Ñ‚Ñ€Ğ°Ğ½ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ° (Ğ¸Ğ»Ğ¸ 3 Ğ°ÑƒĞ´Ğ¸Ğ¾ + Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ),
               Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ state, Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ Ñ€Ğ°ÑƒĞ½Ğ´ Ğ¸Ğ»Ğ¸ Ñ„Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ñ‚Ñ‡ĞµÑ‚
  Response (round < 3):
    round: 2|3
    questions: [{id,text} x3]
    round_summary: string
    is_complete: false
  Response (round == 3):
    round: 3
    is_complete: true
    report_markdown: string

GET /api/session/{session_id}/results
  Description: ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ñ„Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ñ‚Ñ‡ĞµÑ‚ (MD + optional JSON)
  Response: { markdown: string, json: object }

GET /api/session/{session_id}/download
  Description: Ğ¡ĞºĞ°Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ MD Ñ„Ğ°Ğ¹Ğ»
  Response: File (text/markdown)

GET /health
  Response: { status: "healthy", stt_ready: boolean, db_ready: boolean }
```

---

## ğŸ” Environment Variables (Backend)

```bash
# LLM Provider
LLM_PROVIDER=anthropic|openai|local
LLM_API_KEY=...

# STT (Whisper)
STT_PROVIDER=whisperflow|faster_whisper|transformers_whisper
WHISPER_MODEL=small
MAX_AUDIO_DURATION_SECONDS=120

# DB
DATABASE_URL=postgresql+psycopg://sauna:***@127.0.0.1:5432/sauna_agent

# Redis (optional)
REDIS_URL=redis://:***@127.0.0.1:6379/0
USE_REDIS=true|false

# CORS
ALLOWED_ORIGINS=https://your-app.vercel.app
```

---

## ğŸ—„ï¸ Session Storage (Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾)

**Ğ”Ğ¾Ğ»Ğ³Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ°Ñ Ğ¿Ğ°Ğ¼ÑÑ‚ÑŒ (Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾): PostgreSQL**
- `sessions` â€” Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ ÑĞµÑÑĞ¸Ğ¸
- `messages` â€” Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹/Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹ (Ñ‚Ñ€Ğ°Ğ½ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹)
- `slot_values` â€” ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ (JSON)
- `round_summaries` â€” summary/gaps/risks
- `reports` â€” Ñ„Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ MD (+ JSON)

**Ğ Ğ°Ğ±Ğ¾Ñ‡Ğ°Ñ Ğ¿Ğ°Ğ¼ÑÑ‚ÑŒ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾): Redis**
- `session:{id}` â†’ state JSON (TTL 24â€“72Ñ‡)
- locks Ğ´Ğ»Ñ ĞºĞ¾Ğ½ĞºÑƒÑ€ĞµĞ½Ñ‚Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
- ÑƒÑĞºĞ¾Ñ€ÑĞµÑ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ, Ğ½Ğ¾ Ğ½Ğµ Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ĞµĞ½

---

## ğŸ³ Docker / Ğ±ĞµĞ· Docker Ğ½Ğ° VPS (Ğ²Ğ°Ğ¶Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ²Ñ‹Ğ±Ğ¾Ñ€)

### Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 1 (Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ): Docker Compose (Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾ Ğ¸ Ğ²Ğ¾ÑĞ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ğ¼Ğ¾)
- Ğ¾Ğ´Ğ¸Ğ½ Ñ„Ğ°Ğ¹Ğ» Ğ¿Ğ¾Ğ´Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚: **postgres + redis + pgadmin (optional)**
- backend Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°Ñ‚ÑŒ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾ (systemd) Ğ¸Ğ»Ğ¸ Ñ‚Ğ¾Ğ¶Ğµ Ğ² compose

### Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 2: Native install (Ğ±ĞµĞ· Docker)
- `apt install postgresql redis-server`
- bind Ğ½Ğ° localhost, Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ, backups

> Ğ”Ğ»Ñ ÑĞ´Ğ°Ñ‡Ğ¸/Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° Ñ‡Ğ°Ñ‰Ğµ Ğ²Ñ‹Ğ¸Ğ³Ñ€Ñ‹Ğ²Ğ°ĞµÑ‚ Dockerâ€‘Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚: Ğ¿ĞµÑ€ĞµĞ½Ğ¾ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ¸ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾Ğµ Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ.

---

## ğŸš€ Deployment Steps (Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾)

### 1) Frontend (Vercel)
- Deploy Ğ¸Ğ· GitHub
- `NEXT_PUBLIC_API_URL=https://<your-domain>/api`

### 2) Backend (Hetzner VPS)
- Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ (Python 3.11, ffmpeg)
- ĞŸĞ¾Ğ´Ğ½ÑÑ‚ÑŒ Postgres (+ Redis) (Docker Ğ¸Ğ»Ğ¸ native)
- Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ FastAPI (uvicorn/gunicorn) Ğ·Ğ° reverse proxy (Caddy/Nginx)

---

## ğŸ› ï¸ Performance Notes (STT)

Ğ•ÑĞ»Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑˆÑŒ WhisperFlow/fasterâ€‘whisper:
- CPU Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚, Ğ½Ğ¾ Ğ»ÑƒÑ‡ÑˆĞµ Ğ¸Ğ¼ĞµÑ‚ÑŒ Ğ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ RAM
- Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾ (ĞºĞµÑˆ) Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¸ ÑÑ‚Ğ°Ñ€Ñ‚Ğµ
- audio webm â†’ wav/16kHz/mono (ffmpeg) â€” Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾ Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾

---

## âœ… Next Steps (Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾)

1. **Phase 1:** Backend Ğ½Ğ° VPS + STT (WhisperFlow) + /health
2. **Phase 2:** PostgreSQL storage + Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ session flow (3Ã—3)
3. **Phase 3:** Â«Ğ£Ğ¼Ğ½Ñ‹Ğ¹Â» state: slots/gaps/risks + Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
4. **Phase 4:** Frontend UI (preview transcript) + MD export
5. **Phase 5:** Hardening: Redis (opt), backups, monitoring, rate limits

---

## ğŸ’° Cost Estimation (Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾)

| Service | Est. Monthly Cost |
|---------|-------------------|
| **Vercel** | $0 (free tier) |
| **Hetzner VPS** | Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Ğ¿Ğ»Ğ°Ğ½Ğ° (Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾ â‚¬4â€“â‚¬20+) |
| **Postgres/Redis** | $0 (Ğ½Ğ° VPS) |
| **LLM API** | Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ğ°/Ñ‚Ñ€Ğ°Ñ„Ğ¸ĞºĞ° |

---

## ğŸ› Known Issues & Solutions (Ğ°ĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾ Ğ´Ğ»Ñ VPS)

1) **WebM (Opus) â†’ Whisper**  
   Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ: ffmpeg ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ² wav 16kHz mono.

2) **ĞœĞ¾Ğ´ĞµĞ»ÑŒ STT Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑÑ Ğ´Ğ¾Ğ»Ğ³Ğ¾**  
   Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ: preload Ğ½Ğ° ÑÑ‚Ğ°Ñ€Ñ‚Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ; health endpoint Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ readiness.

3) **DB backups Ğ·Ğ°Ğ±Ñ‹Ğ²Ğ°ÑÑ‚ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ**  
   Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ: ĞµĞ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ñ‹Ğ¹ `pg_dump` + Ğ²Ñ‹Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ² Ğ¾Ğ±Ğ»Ğ°ĞºĞ¾.

---

## ğŸ“‹ Ğ˜Ñ‚Ğ¾Ğ³Ğ¾Ğ²Ñ‹Ğ¹ Ğ¾Ñ‚Ñ‡ĞµÑ‚ (MD) â€” Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ pirties

ĞÑ‚Ñ‡ĞµÑ‚ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ²ĞºĞ»ÑÑ‡Ğ°Ñ‚ÑŒ:
- Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ (purpose/ritual/users)
- Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ Ñ‚Ğ¸Ğ¿Ñƒ pirties (ĞºÑ€Ğ¾Ñnis/Ğ¼Ğ¸ĞºÑ€Ğ¾ĞºĞ»Ğ¸Ğ¼Ğ°Ñ‚) + Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹
- ĞĞ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ°Ğ¼ Ğ¸ ÑĞ¾ÑÑ‚Ğ°Ğ²Ñƒ Ğ¿Ğ¾Ğ¼ĞµÑ‰ĞµĞ½Ğ¸Ğ¹
- Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Â«Ğ½ÑƒĞ¶Ğ½Ğ¾ ÑƒÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ñ‚ÑŒÂ» (gaps checklist)
- Ğ Ğ¸ÑĞºĞ¸/ĞºĞ¾Ğ½Ñ„Ğ»Ğ¸ĞºÑ‚Ñ‹ Ğ¸ ĞºĞ°Ğº Ğ¸Ñ… ÑĞ½ÑÑ‚ÑŒ
